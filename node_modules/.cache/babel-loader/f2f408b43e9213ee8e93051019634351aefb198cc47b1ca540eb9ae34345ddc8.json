{"ast":null,"code":"import _regeneratorRuntime from\"/Users/tudorerdei/Documents/WeatherApp2/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectSpread from\"/Users/tudorerdei/Documents/WeatherApp2/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/tudorerdei/Documents/WeatherApp2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/tudorerdei/Documents/WeatherApp2/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"./App.css\";import TopButtons from\"./components/TopButtons\";import Inputs from\"./components/Inputs\";import TimeAndLocation from\"./components/TimeAndLocation\";import TemperatureAndDetails from\"./components/TemperatureAndDetails\";import Forecast from\"./components/Forecast\";import getFormattedWeatherData from\"./services/weatherService\";import{useEffect,useState}from\"react\";import{ToastContainer,toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useState=useState({q:\"berlin\"}),_useState2=_slicedToArray(_useState,2),query=_useState2[0],setQuery=_useState2[1];var _useState3=useState(\"metric\"),_useState4=_slicedToArray(_useState3,2),units=_useState4[0],setUnits=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),weather=_useState6[0],setWeather=_useState6[1];useEffect(function(){var fetchWeather=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:message=query.q?query.q:\"current location.\";toast.info(\"Fetching weather for \"+message);_context.next=4;return getFormattedWeatherData(_objectSpread(_objectSpread({},query),{},{units:units})).then(function(data){toast.success(\"Successfully fetched weather for \".concat(data.name,\", \").concat(data.country,\".\"));setWeather(data);});case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchWeather(){return _ref.apply(this,arguments);};}();fetchWeather();},[query,units]);var formatBackground=function formatBackground(){if(!weather)return\"from-cyan-700 to-blue-700\";var threshold=units===\"metric\"?20:60;if(weather.temp<=threshold)return\"from-cyan-700 to-blue-700\";return\"from-yellow-700 to-orange-700\";};return/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto max-w-screen-md mt-4 py-5 px-32 bg-gradient-to-br  h-fit shadow-xl shadow-gray-400 \".concat(formatBackground()),children:[/*#__PURE__*/_jsx(TopButtons,{setQuery:setQuery}),/*#__PURE__*/_jsx(Inputs,{setQuery:setQuery,units:units,setUnits:setUnits}),weather&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(TimeAndLocation,{weather:weather}),/*#__PURE__*/_jsx(TemperatureAndDetails,{weather:weather}),/*#__PURE__*/_jsx(Forecast,{title:\"hourly forecast\",items:weather.hourly}),/*#__PURE__*/_jsx(Forecast,{title:\"daily forecast\",items:weather.daily})]}),/*#__PURE__*/_jsx(ToastContainer,{autoClose:5000,theme:\"colored\",newestOnTop:true})]});}export default App;","map":{"version":3,"names":["TopButtons","Inputs","TimeAndLocation","TemperatureAndDetails","Forecast","getFormattedWeatherData","useEffect","useState","ToastContainer","toast","jsx","_jsx","jsxs","_jsxs","App","_useState","q","_useState2","_slicedToArray","query","setQuery","_useState3","_useState4","units","setUnits","_useState5","_useState6","weather","setWeather","fetchWeather","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","message","wrap","_callee$","_context","prev","next","info","_objectSpread","then","data","success","concat","name","country","stop","apply","arguments","formatBackground","threshold","temp","className","children","title","items","hourly","daily","autoClose","theme","newestOnTop"],"sources":["/Users/tudorerdei/Documents/WeatherApp2/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport TopButtons from \"./components/TopButtons\";\nimport Inputs from \"./components/Inputs\";\nimport TimeAndLocation from \"./components/TimeAndLocation\";\nimport TemperatureAndDetails from \"./components/TemperatureAndDetails\";\nimport Forecast from \"./components/Forecast\";\nimport getFormattedWeatherData from \"./services/weatherService\";\nimport { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  const [query, setQuery] = useState({ q: \"berlin\" });\n  const [units, setUnits] = useState(\"metric\");\n  const [weather, setWeather] = useState(null);\n\n  useEffect(() => {\n    const fetchWeather = async () => {\n      const message = query.q ? query.q : \"current location.\";\n\n      toast.info(\"Fetching weather for \" + message);\n\n      await getFormattedWeatherData({ ...query, units }).then((data) => {\n        toast.success(\n          `Successfully fetched weather for ${data.name}, ${data.country}.`\n        );\n\n        setWeather(data);\n      });\n    };\n\n    fetchWeather();\n  }, [query, units]);\n\n  const formatBackground = () => {\n    if (!weather) return \"from-cyan-700 to-blue-700\";\n    const threshold = units === \"metric\" ? 20 : 60;\n    if (weather.temp <= threshold) return \"from-cyan-700 to-blue-700\";\n\n    return \"from-yellow-700 to-orange-700\";\n  };\n\n  return (\n    <div\n      className={`mx-auto max-w-screen-md mt-4 py-5 px-32 bg-gradient-to-br  h-fit shadow-xl shadow-gray-400 ${formatBackground()}`}\n    >\n      <TopButtons setQuery={setQuery} />\n      <Inputs setQuery={setQuery} units={units} setUnits={setUnits} />\n\n      {weather && (\n        <div>\n          <TimeAndLocation weather={weather} />\n          <TemperatureAndDetails weather={weather} />\n\n          <Forecast title=\"hourly forecast\" items={weather.hourly} />\n          <Forecast title=\"daily forecast\" items={weather.daily} />\n        </div>\n      )}\n\n      <ToastContainer autoClose={5000} theme=\"colored\" newestOnTop={true} />\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}